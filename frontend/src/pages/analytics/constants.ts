/**
 * Пресеты периодов для фильтров и графиков.
 *
 * Зачем это нужно:
 * - даём пользователю быстрый выбор «сколько дней смотреть» без ручного ввода дат;
 * - держим один источник правды для ключей/лейблов, чтобы не плодить магические строки;
 * - массив объявлен как неизменяемый (readonly), чтобы его нельзя случайно мутировать в рантайме.
 */

/** Ключи доступных пресетов — удобно использовать как union вместо "магических" строк. */
export type PresetKey = '1d' | '2d' | '7d' | '30d' | '90d' | 'all'

/** Описание одного пресета периода. */
export interface PresetOption {
  /** Уникальный ключ, пригоден для хранения в URL/стейте. */
  key: PresetKey
  /** Короткий человеко-понятный лейбл для UI. */
  label: string
  /**
   * Количество суток от «сегодня» назад.
   * null — спецрежим «Все», когда временной фильтр не ограничивается.
   */
  days: number | null
}

/**
 * Набор стандартных пресетов.
 * Важно: объявлен как readonly-список (см. `as const`) и проверяется на соответствие типу PresetOption.
 */
export const PRESETS = [
  { key: '1d',  label: '1д',   days: 1 },
  { key: '2d',  label: '2д',   days: 2 },
  { key: '7d',  label: '7д',   days: 7 },
  { key: '30d', label: '30д',  days: 30 },
  { key: '90d', label: '90д',  days: 90 },
  { key: 'all', label: 'Все',  days: null },
] as const satisfies ReadonlyArray<PresetOption>

/** Быстрый доступ к пресету по ключу — удобно для дешёвых lookup-ов. */
export const PRESET_BY_KEY: ReadonlyMap<PresetKey, typeof PRESETS[number]> =
  new Map(PRESETS.map((p) => [p.key, p]))
